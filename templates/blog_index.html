{% extends "base.html" %}

{% block head %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>
	MathJax = {
		tex: {
			tags: 'ams'
		}
	}
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
{% endblock %}

{% block content %}
<p class="smallText metadata">
  syntax highlighting based on <a href="https://pygments.org/">Pygments'</a> default
  colors
</p>
<p class="smallText metadata">
  page generated by <a href="https://git.alv.cx/alvierahman90/gronk">gronk</a>
</p>
<p class="smallText metadata">
  <a href="./feed.xml">rss feed</a>
</p>
{% if license %}
<details id="license">
  <summary class="smallText">
    License
  </summary>
  <pre>{{ license }}</pre>
</details>
{% endif %}
	<h1>{{ title }}</h1>

	{% if not content_after_search %}
    {{ content|safe }}

    {% for post in posts %}
      {{ post['description']|safe }}
    {% endfor %}
	{% endif %}

	{% if automatic_index %}
    <details>
      <summary>
        <h4> List of posts </h4>
      </summary>
    {% if search_bar %}
      <div id="searchWrapper">
      <input id="search" placeholder="search" autocomplete="off" autofocus>
      </div>
      <p class="searchSmallText" style="margin-top: 0; text-align: center">
        Press (<kbd>Shift</kbd>+)<kbd>Enter</kbd> to open first result (in new tab)
      </p>
    {% endif %}

    <ul id="searchResults" class="buttonlist">
      <li class="article"><a href=".."><p>../</p></a></li>
      {% for entry in index_entries %}
      <li class="article"><a href="{{ entry['path'] }}"><p>{{ entry['title'] }}{% if entry['is_dir'] %}/{% endif %}</p></a></li>
      {% endfor %}
    </ul>
    </details>
	{% endif %}

	{% if content_after_search %}
    {{ content|safe }}

    {% for post in posts %}
      <div class="blog_inline_post">
      {{ post['description']|safe }}
      </div>
    {% endfor %}
	{% endif %}

	<script src="/js/fuse.js"> </script>
	<script> const search_data = {{ index_entries|tojson }} </script>
	<script src="/js/indexsearch.js"> </script>
{% endblock %}
